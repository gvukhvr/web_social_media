<div class="chat-container">
  <!-- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‡Ğ°Ñ‚Ğ¾Ğ² -->
  <div class="chat-list">
    <div class="user-info" style="display: flex; align-items: center; margin-bottom: 1rem;">
      <img *ngIf="avatar" [src]="avatar" alt="avatar" width="50" height="50" style="border-radius: 50%; margin-right: 10px;" />
      <span>{{ username }}</span>
    </div>
    <h3>Chats</h3>

    <!-- ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ -->
    <input
      [(ngModel)]="searchTerm"
      (input)="searchUsers()"
      placeholder="Search user..."
      class="search-input"
    />

    <!-- Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞºĞ° -->
    <div class="search-results" *ngIf="searchResults.length > 0">
      <ul>
        <li *ngFor="let user of searchResults" (click)="openChatWith(user)">
          ğŸ” {{ user.username }}
        </li>
      </ul>
    </div>

    <!-- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ñ‡Ğ°Ñ‚Ğ¾Ğ² -->
    <ul>
      <li *ngFor="let room of chatRooms" (click)="onUserSelected(room.other_user)">
        ğŸ’¬ {{ room.other_user?.username }}
      </li>
    </ul>

    <button (click)="onLogout()">Logout</button>
  </div>

  <!-- ĞĞºĞ½Ğ¾ Ñ‡Ğ°Ñ‚Ğ° -->
  <div class="chat-window">
    <div class="chat-header" *ngIf="selectedUser">
      <h3>Chat with {{ selectedUser?.username }}</h3>
    </div>

    <div class="messages">
      <div *ngFor="let msg of messages" style="margin-bottom: 10px;">
        <strong>{{ msg.sender }}</strong>: {{ msg.message || msg.text }}
      </div>
    </div>

    <!-- Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ -->
    <form (submit)="sendMessage()">
      <input
        [(ngModel)]="newMessage"
        name="message"
        placeholder="Type a message..."
        required
      />
      <button type="submit">Send</button>
    </form>
  </div>
</div>
